.project-page {
  .main {
    background-color: $white;

    section {
      padding: 6em 0;

      .container, .container-sm {
        @include pad();
      }
    }

    & > .container {
      text-align: center;
    }
  }

  .device-background {
    $base-border-radius: 3px !default;
    $action-color: #477DCA !default;
    $large-screen: em(860) !default;
    $device-padding-vertical: 5em;
    $device-padding-horizontal: 0.4em;
    $device-screen-width: 14em;
    $device-screen-height: 25em;
    $device-background: darken(gray, 40%);
    $device-backside-background: darken($device-background, 10%);
    $device-text-color: white;

    @include outer-container;

    background-repeat: no-repeat;
    background-size: cover;
    min-height: 20em;
    width: 100%;
    position: relative;

    .device-text {
      padding: 2em;

      @include media($screen-medium-up) {
        float: left;
        max-width: 50%;
        padding: 4em;
      }

      @include media($screen-large-up) {
        max-width: 65%;
      }

      h4 {
        border-bottom: 1px solid transparentize($device-text-color, 0.7);
        color: $device-text-color;
        font-size: 1.5em;
        margin: 0 0 0.5em 0;
        padding-bottom: 0.5em;
      }

      p {
        color: $device-text-color;
        line-height: 1.5em;
        margin-bottom: 1.5em;
      }
    }

    .device {
      position: relative;
      text-align: center;
      max-height: 60vh;
      overflow: hidden;
      padding: 1em;
      background-color: $white;
      $device-medium-translate-y: 3em;
      $device-large-translate-y: -4em;

      .screen {
        display: none;
      }

      @include media($screen-medium-up) {
        overflow: auto;
        max-height: none;
        @include transform(
          perspective(800px) 
          translateX(0px) 
          translateY($device-medium-translate-y) 
          translateZ(50px) 
          rotateX(0deg) 
          rotateY(-20deg) 
          rotateZ(-0deg));
        background-color: $device-background;
        border-radius: 2em;
        box-shadow: 
          1px 0px lighten($device-backside-background, 20%), 
          4px 0px lighten($device-backside-background, 2%),
          7px 0px $device-backside-background,
          10px 0px $device-backside-background,
          13px 0px $device-backside-background;
        display: block;
        float: right;
        margin-bottom: -12em;
        margin-right: 5em;
        padding: $device-padding-vertical 0;
        width: $device-screen-width + (2 * $device-padding-horizontal);
        z-index: 99999;

        img {
          display: none;
        }

        .screen {
          display: block;
          @include size($device-screen-width $device-screen-height);
          background-size: cover;
          border-radius: 0.2em;
          box-shadow: inset 0 1px 8px transparentize(black, 0.5);
          margin: auto;
        }
      }

      @include media($screen-large-up) {
        @include transform(
          perspective(800px) 
          translateX(0px) 
          translateY($device-large-translate-y) 
          translateZ(50px) 
          rotateX(0deg) 
          rotateY(-20deg) 
          rotateZ(-0deg));
      }
    }
  }

  .side-content {
    .container {
      background: $light-gray;
    }

    .images-wrapper {
      // @include background(url('https://raw.githubusercontent.com/thoughtbot/refills/master/source/images/mountains.png'), linear-gradient($side-image-background-top, $side-image-background-bottom), no-repeat $side-image-background-top scroll);
      // background-color: $side-image-background-top;
      background-size: cover;
      border-bottom: $medium-gray;
      display: block;
      min-height: 12em;
      padding: 3em;

      @include media($screen-medium-up) {
        @include span-columns(4);
        background-position: bottom;
        background-size: cover;
        border-right: $medium-gray;
      }
    }

    .video-wrapper {
      @include display(flex);
      @include justify-content(center);
      overflow: hidden;

      @include media($screen-medium-up) {
        @include span-columns(5);
        @include display(flex);
        @include justify-content(flex-end);
      }
    }

    .side-content-copy {
      @include span-columns(12);
      color: $dark-gray;
      padding: 3em 1em 4em 1em;

      @include media($screen-medium-up) {
        @include span-columns(7);
        padding: 4em 4em 8em 4em;
      }

      p {
        color: $dark-gray;
      }

      h1 {
        margin-bottom: 0.9em;
      }

      h4 {
        background: #BBB;
        color: white;
        display: inline-block;
        font-size: 0.75em;
        margin-bottom: 1.3em;
        padding: 3px 8px;
        text-transform: uppercase;
      }
    }
  }

  .intro-image {
    text-align: center;
    max-height: 40vh;
    background-size: cover;
    overflow: hidden;
    transition: max-height .6s $base-timing;

    &:hover {
      max-height: 200vh;
    }

    & + section {
      padding-top: 2.5em;
    }
  }

  &.project-tompham .intro-image {
    background-color: black;
  }

  &.project-morsel .device-background {
    background: #e96144;
  }

  .badges {
    margin-bottom: 2em;

    @include media($screen-medium-up) {
      @include span-columns(4);
    }

    .badge {
      margin: .4em;
    }
  }

  .copy-wrapper {
    line-height: 1.8em;

    @include media($screen-medium-up) {
      @include span-columns(8);
    }
  }

  .copy {
    @include span-columns(10);
    @include shift(1);
    line-height: 1.8em;

    @include media($screen-medium-up) {
      @include span-columns(8);
      @include shift(2);
    }
  }

  .wide-image {
    img {
      display: block;
      margin: 0 auto;
    }
  }

  .contact {
    padding-top: 6em;
  }
}